<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Register</title>
  
  <%- include("links") %>

  <link rel="stylesheet" href="css/register.css">
</head>

<body>

  <form action="/register" method="POST" class="p-5"  enctype="multipart/form-data">
    <div class="row align-items-center">
      <div class="container">
        <img src="img/ucmLogin.png" alt="" class="img-fluid mx-auto d-block">
      </div>
    </div>

    <div class="row align-items-center mb-2">
      <div class="col-lg-6 col-md-6 col-sm-12">
        <label for="inputEmail3">Email</label>
        <input required type="email" class="form-control" id="inputEmail3" placeholder="Email" name="email">
      </div>
      <div class="col-lg-6 col-md-6 col-sm-12">
        <label for="nombreMostrar">Nombre a mostrar</label>
        <input required type="text" class="form-control" id="nombreMostrar" placeholder="Nombre" name="usuario"">
      </div>      
    </div>

  

    <div class="row align-items-center mb-2">
      <div class="col-lg-6 col-md-6 col-sm-12">
        <label required for="password1">Password</label>
        <input required type="password" class="form-control" id="password1" placeholder="Password" name="password">
      </div>
      <div class="col-lg-6 col-md-6 col-sm-12">
        <label for="password2">Confirm password</label>
        <input type="password" class="form-control" id="password2" placeholder="Password" name ="cpassword">
      </div>      
    </div>
    <div class="row align-items-center mb-2">
      <div class="col-lg-6 col-md-6 col-sm-12">
        <label for="selector">Perfil universitario</label>
        <select onchange="mostrar_ocultar()" class="form-select" id="selector" aria-label="Default select example" name="perfil">
          <option selected value="Alumno">Alumno</option>
          <option value="PAS">Personal de administracion y servicios</option>
          <option value="PDI">Personal Docente e Investigador</option>
          <option value="Antiguo Alumno">Antiguo Alumno</option>
        </select>
      </div>
      <div class="col-lg-5 col-md-5 col-sm-12 ocultar">
        <label for="numero">Nº Empleado</label>
        <input type="text" class="form-control" id="numero" pattern="\d{4}-[a-z]{3}" placeholder="Nº Empleado" name="numero">
      </div>  
      <div class="col-lg-1 col-md-1 col-sm-12 mt-4 ocultar">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
          <label class="form-check-label" for="flexCheckDefault">Tecnico</label>
        </div>
      </div>    
    </div>

    <div class="row align-items-center">
      <div class="col-lg-6 col-md-6 col-sm-12">
        <label for="formFile" class="form-label mb-0">Foto de perfil</label>
        <input  type="file" id="imagen" name="imagen" accept="image/*">
      </div>  
    </div>
    
    <div class="mt-3">
      <%- include("flash") %>
    </div>
    

    <div class="form-group d-flex justify-content-around align-items-center botones">
      <a class="btn btn-outline-primary" href="/login" role="button">Iniciar Sesion</a>
      <button type="submit" class="btn btn-primary p-2">Registrarse</button>
    </div>
    
  </form>


  <%- include("scripts") %>
  
</body>

</html>

<script>

  function mostrar_ocultar(){

    let valor = document.getElementById("selector").value
    let collection = document.getElementsByClassName("ocultar")
    
    for (let i = 0; i < collection.length; i++){
      if (valor === "PAS")
        collection[i].style.display = "block"
      else
        collection[i].style.display = "none"
    }
    
  }

</script>

